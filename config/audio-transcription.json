{
  "providers": {
    "openai": {
      "enabled": true,
      "apiKeyEnv": "OPENAI_API_KEY",
      "models": {
        "whisper": {
          "name": "gpt-4o-mini-transcribe",
          "description": "OpenAI GPT-4o Mini Transcribe model (improved quality over Whisper-1)",
          "supportedFormats": [
            "mp3",
            "mp4",
            "mpeg",
            "mpga",
            "m4a",
            "wav",
            "webm"
          ],
          "maxFileSize": "25MB",
          "languages": [
            "en",
            "cs",
            "de",
            "es",
            "fr",
            "it",
            "ja",
            "ko",
            "pt",
            "ru",
            "zh"
          ],
          "responseFormats": ["json", "text", "srt", "verbose_json", "vtt"],
          "temperature": 0,
          "timestampGranularities": ["segment", "word"]
        }
      }
    },
    "azure": {
      "enabled": false,
      "apiKeyEnv": "AZURE_SPEECH_KEY",
      "models": {
        "speech_to_text": {
          "name": "whisper",
          "description": "Azure Speech Services",
          "supportedFormats": ["wav", "mp3", "ogg"],
          "maxFileSize": "100MB",
          "languages": ["en-US", "cs-CZ", "de-DE"],
          "responseFormats": ["simple", "detailed"]
        }
      }
    },
    "google": {
      "enabled": false,
      "apiKeyEnv": "GOOGLE_CLOUD_API_KEY",
      "models": {
        "speech_to_text": {
          "name": "latest_long",
          "description": "Google Cloud Speech-to-Text",
          "supportedFormats": ["wav", "flac", "mp3"],
          "maxFileSize": "1GB",
          "languages": ["en-US", "cs-CZ", "de-DE"],
          "responseFormats": ["basic", "enhanced"]
        }
      }
    },
    "deepgram": {
      "enabled": true,
      "apiKeyEnv": "DEEPGRAM_API_KEY",
      "mode": "streaming",
      "tokenEndpoint": "/v1/transcribe/token",
      "models": {
        "nova-2": {
          "name": "nova-2",
          "description": "Deepgram Nova-2 General Model",
          "streamingSupport": true,
          "languages": ["en", "cs", "de", "es", "fr", "it", "ja", "ko", "pt", "ru", "zh"],
          "features": ["punctuate", "diarize", "smart_format", "interim_results"]
        },
        "nova-2-medical": {
          "name": "nova-2-medical",
          "description": "Deepgram Nova-2 Medical (optimized for healthcare)",
          "streamingSupport": true,
          "languages": ["en", "cs", "de", "es", "fr"],
          "features": ["punctuate", "diarize", "smart_format", "interim_results", "medical_vocabulary"]
        }
      },
      "streamingSettings": {
        "keepAliveIntervalMs": 8000,
        "tokenRefreshBufferMs": 60000,
        "tokenTtlSeconds": 600,
        "reconnectAttempts": 3,
        "reconnectDelayMs": 1000
      }
    }
  },
  "defaultProvider": "openai",
  "defaultModel": "whisper",
  "transcriptionSettings": {
    "defaultLanguage": "en",
    "responseFormat": "text",
    "includeTimestamps": false,
    "medicalContext": {
      "enabled": true,
      "prompt": "This is a medical consultation recording. Please transcribe the conversation exactly as spoken in its original language - do NOT translate it. The conversation typically involves a doctor asking about symptoms and the patient responding. Multiple speakers (doctors, nurses, patients) may be present. Preserve all medical terminology in the original language.",
      "translatePrompt": "This is a medical consultation recording. Please transcribe AND translate the conversation to English. Maintain medical accuracy and use appropriate English medical terminology.",
      "medicalTermsBoost": true,
      "speakerIdentification": false
    },
    "overlapProcessing": {
      "enabled": true,
      "overlapThreshold": 0.7,
      "mergeThreshold": 0.8,
      "enableMedicalTermBoost": true,
      "maxSegmentsToMerge": 5,
      "preserveTimestamps": true
    }
  },
  "performance": {
    "maxRetries": 3,
    "timeoutMs": 30000,
    "batchProcessing": {
      "enabled": false,
      "maxBatchSize": 10,
      "batchTimeoutMs": 60000
    },
    "vadTimeout": {
      "enabled": true,
      "maxSpeechDurationMs": 30000,
      "overlapDurationMs": 5000,
      "batchDurationMs": 30000,
      "enableSmartTimeout": true,
      "energyThreshold": 0.001,
      "varianceThreshold": 0.0001,
      "medicalConsultationMode": {
        "maxSpeechDurationMs": 45000,
        "energyThreshold": 0.0008,
        "varianceThreshold": 0.00008
      }
    }
  },
  "fallback": {
    "enableFallback": true,
    "fallbackProviders": ["deepgram", "google", "openai"],
    "fallbackOnError": true,
    "fallbackOnTimeout": true
  },
  "streaming": {
    "enabled": true,
    "preferStreaming": true,
    "defaultProvider": "deepgram",
    "fallbackToBatch": true,
    "batchFallbackDelayMs": 5000,
    "maxLatencyMs": 3000
  },
  "quality": {
    "confidenceThreshold": 0.7,
    "enableQualityFiltering": false,
    "profanityFilter": false,
    "medicalTermsValidation": true
  },
  "monitoring": {
    "logTranscriptions": false,
    "trackTokenUsage": true,
    "performanceMetrics": true,
    "errorTracking": true
  }
}
